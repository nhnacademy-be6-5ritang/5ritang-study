# ğŸŒŸ varchar vs text



---

## ğŸ“‹ **varchar**

- í…Œì´ë¸” ìƒì„±ì‹œ í•œí–‰ë‹¹ 65535byteê¹Œì§€ë§Œ ìƒì„±ê°€ëŠ¥í•¨. ë”°ë¼ì„œ í…Œì´ë¸”ìƒì„±ì‹œ varcharë¥¼ ì—¬ëŸ¬ê°œ ì“¸ë•Œ ìµœëŒ€ë°”ì´íŠ¸ìˆ˜ë¥¼ ê³„ì‚°í•˜ê³  ì ìš©í•´ì•¼í•¨.
- MySQL ì„œë²„ëŠ” ë ˆì½”ë“œì˜ ì»¬ëŸ¼ ë°ì´í„°ëŠ” B-Tree (Clustering Index)ì— ì €ì¥(ì´ë¥¼ Inline ì €ì¥ì´ë¼ê³  í•¨).
- í•˜ì§€ë§Œ MySQL ì„œë²„ëŠ” varchar íƒ€ì…ì˜ ì»¬ëŸ¼ì„ í•­ìƒ B-Treeë¡œ ì €ì¥í•˜ì§€ëŠ” ì•Šê³ , ê¸¸ì´ê°€ ê¸¸ì–´ì„œ ì €ì¥ ê³µê°„ì´ ë§ì´ í•„ìš”í•œ ê²½ìš°ì—ëŠ” Off-Pageë¡œ ì €ì¥
- varcharì˜ ê²½ìš° ë©”ëª¨ë¦¬ê³µê°„(records[2])ì´ TABLE êµ¬ì¡°ì²´ì˜í•´ ì •ì˜ë˜ê³  TABLE êµ¬ì¡°ì²´ëŠ” Mysql ì„œë²„ë‚´ì— ìºì‹±ë˜ì–´ì„œ ì—¬ëŸ¬ì»¤ë„¥ì…˜ì—ì„œ ê³µìœ í•´ì„œ ì‚¬ìš©ë¨.
- ì£¼ì˜í•´ì•¼í• ê²ƒì´ varcharì— ì €ì¥ëœê°’ì´ ê¸¸ì–´ off-pageë¡œ ì €ì¥ë  ê²½ìš° ìƒˆë¡­ê²Œ ë©”ëª¨ë¦¬ë¥¼ í• ë‹¹í•¨. ë”°ë¼ì„œ varcharì— ë§¤ìš°í° ê°’ì´ ì €ì¥ë˜ëŠ”ê²½ìš° ì£¼ì˜í•  ê²ƒ.
- VARCHARëŠ” ì „ì²´ ë¬¸ìì—´ì— ëŒ€í•œ ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŒ. ë” ì •í™•íˆëŠ” íŠ¹ì • ê¸¸ì´ ë‚´ì—ì„œëŠ” ì „ì²´ ë¬¸ìì—´ì— ëŒ€í•´ ìƒì„±í•  ìˆ˜ ìˆìŒ.
```mysql
CREATE TABLE tb_varchar (
id INT PRIMARY KEY,
fd VARCHAR(100)
);

alter table tb_varchar add index ix_fd(fd); ìƒì„± ê°€ëŠ¥! 
```

---

## ğŸ“‹ **text**

- clobíƒ€ì… (TEXT(ë˜ëŠ” CLOB)ë‚˜ BLOBì™€ ê°™ì€ ëŒ€ìš©ëŸ‰ ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ì»¬ëŸ¼ íƒ€ì…ì„ LOB(Large Object) íƒ€ì….)
- RDBMS ì„œëŠ” LOB ë°ì´í„°ë¥¼ Off-Page ë¼ê³  í•˜ëŠ” ì™¸ë¶€ ê³µê°„ì— ì €ì¥.
- ìš©ëŸ‰ì´ í° LOB ë°ì´í„°ëŠ” B-Tree ì™¸ë¶€ì˜ Off-Page í˜ì´ì§€(MySQL ì„œë²„ ë©”ë‰´ì–¼ì—ì„œëŠ” External off-page storage)ë¡œ ì €ì¥
- í•˜ì§€ë§Œ MySQL ì„œë²„ëŠ” LOB íƒ€ì…ì˜ ì»¬ëŸ¼ì„ í•­ìƒ Off-Pageë¡œ ì €ì¥í•˜ì§€ëŠ” ì•Šê³ , ê¸¸ì´ê°€ ê¸¸ì–´ì„œ ì €ì¥ ê³µê°„ì´ ë§ì´ í•„ìš”í•œ ê²½ìš°ì—ë§Œ Off-Pageë¡œ ì €ì¥
- VARCHAR ëŒ€ì‹  TEXT íƒ€ì…ì„ ì‚¬ìš©í•˜ë©´ varcharì—ì„œ ë¬¸ì œê°€ ë˜ë˜ ê¸¸ì´ ì œí•œì´ ì‹¹ ì‚¬ë¼ì§.
- varcharì™€ ë‹¬ë¦¬ text ì™€ ê°™ì€ lobíƒ€ì…ì€ ë©”ëª¨ë¦¬ê³µê°„(records[2])ì´ ë”°ë¡œ í• ë‹¹ë˜ì§€ ì•ŠëŠ”ë‹¤. ë”°ë¼ì„œ ë§¤ë²ˆ ë ˆì½”ë“œë¥¼ ì½ê³  ì“¸ë•Œë§ˆë‹¤ í•„ìš”í•œë§Œí¼ ë©”ëª¨ë¦¬ í• ë‹¹ì´ í•„ìš”í•¨.
- TEXT ë°ì´í„° íƒ€ì…ì€ ê¸°ë³¸ì ìœ¼ë¡œ ì „ì²´ ë¬¸ìì—´ì„ ê¸°ì¤€ìœ¼ë¡œ ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•  ìˆ˜ ì—†ê³ , ë°˜ë“œì‹œ ì¼ì • ê¸¸ì´ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì§€ì •í•˜ì—¬ì•¼ë§Œ ì¸ë±ìŠ¤ë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŒ.
``` mysql
create table tb_text (
id int primary key,
tx text
);

>alter table tb_text add index  ix_tx(tx(50)); ìƒì„±ê°€ëŠ¥ 
``` 




---

## ğŸ“‹ **ë‘˜ ì¤‘ ë­˜ ì“¸ ê¹Œ ?**



###  ì»¬ëŸ¼ íƒ€ì… ì„ ì • ê·œì¹™
>VARCHAR
> - ìµœëŒ€ ê¸¸ì´ê°€ (ìƒëŒ€ì ìœ¼ë¡œ) í¬ì§€ ì•Šì€ ê²½ìš°
> - í…Œì´ë¸” ë°ì´í„°ë¥¼ ì½ì„ ë•Œ í•­ìƒ í•´ë‹¹ ì»¬ëŸ¼ì´ í•„ìš”í•œ ê²½ìš°
> - DBMS ì„œë²„ì˜ ë©”ëª¨ë¦¬ê°€ (ìƒëŒ€ì ìœ¼ë¡œ) ì¶©ë¶„í•œ ê²½ìš°

>TEXT
> - ìµœëŒ€ ê¸¸ì´ê°€ (ìƒëŒ€ì ìœ¼ë¡œ) í° ê²½ìš°
> - í…Œì´ë¸”ì— ê¸¸ì´ê°€ ê¸´ ë¬¸ìì—´ íƒ€ì… ì»¬ëŸ¼ì´ ë§ì´ í•„ìš”í•œ ê²½ìš°
> - í…Œì´ë¸” ë°ì´í„°ë¥¼ ì½ì„ ë•Œ í•´ë‹¹ ì»¬ëŸ¼ì´ ìì£¼ í•„ìš”ì¹˜ ì•Šì€ ê²½ìš°

---

> âš™ï¸ **ì¶œì²˜**: https://medium.com/daangn/varchar-vs-text-230a718a22a1
>
> âš™ï¸ **ì¶œì²˜**: https://dkswnkk.tistory.com/714



